{% set featured = module.nextReadsFeatured.one() %}
{% set nextReads = module.nextReads.eagerly().all() %}

{% if (nextReads|length) == 0 %}
  {% if featured %}
    {% set nextReads =
      craft.entries.section("blog").id(["not", featured.id]).limit(4).all()
    %}
  {% else %}
    {% set nextReads = craft.entries.section("blog").limit(4).all() %}
  {% endif %}
{% endif %}

{% set content %}
  {% include "blog/_modules/teasers-list" with {
    featured: featured,
    articles: nextReads
  } %}
{% endset %}

{% if nextReads|length %}
  {% include "_modules/next-reads" with {
    heading: module.title,
    sideLink: {
      text: "See all"|t,
      url: blogIndex.url
    },
    content: content
  } only %}
{% endif %}
